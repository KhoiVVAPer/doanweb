@model IEnumerable<QLHD.Models.Event>

@{
    ViewBag.Title = "DSHD";
    Layout = "~/Views/Shared/index.cshtml";
    
}

<h2>DANH SÁCH HOẠT ĐỘNG</h2>



<a class="themhoatdong" href="@Url.Action("Create", "Admin")"><span class="glyphicon glyphicon-plus-sign"></span><p> THÊM HOẠT ĐỘNG</p></a>

<table style="margin-top:10px" class="table table-sm" border="1" >
    <thead>
    <tr >
        <th style="width:500px">
            TÊN HOẠT ĐỘNG
        </th>
        <th style="width:200px">
            NGÀY BẮT ĐẦU ĐĂNG KÝ
        </th>
        <th style="width:200px">
            NGÀY KẾT THÚC ĐĂNG KÝ
        </th>
        <th style="width:200px">
            SỐ LƯỢNG ĐƯỢC ĐĂNG KÝ
        </th>
        <th style="width:200px">
            SỐ LƯỢNG ĐÃ ĐĂNG KÝ
        </th>
        <th style="width:200px">
            SỐ LƯỢNG ĐÃ THAM GIA
        </th>
        <th style="width:200px">
            TRẠNG THÁI
        </th>
        <th style="width:250px">THỰC HIỆN</th>
    </tr>
    </thead>
    <tbody>

    
@foreach (var item in Model) {
    <tr>
        <td>
            @if (item.dateRegister.ToShortDateString().CompareTo(DateTime.Now.ToShortDateString()) <= 0 && item.dateEndRegister.ToShortDateString().CompareTo(DateTime.Now.ToShortDateString()) >= 0)
            {
                <a style="text-decoration:none;color:forestgreen;font-weight:bold" href="@Url.Action("Details", "Admin", new { id = item.idEvent })">@item.eventName</a>
            }
            else
            {
                if (item.dateEndRegister.ToShortDateString().CompareTo(DateTime.Now.ToShortDateString()) < 0)
                {
                    <a style="text-decoration:none;color:darkgray;font-weight: bold" href="@Url.Action("Details", "Admin", new { id = item.idEvent })">@item.eventName</a>

                }
                else
                {
                    <a style="text-decoration:none;color:cornflowerblue;font-weight: bold" href="@Url.Action("Details", "Admin", new { id = item.idEvent })">@item.eventName</a>
                }

            }
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.dateRegister)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.dateEndRegister)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.studentNumber)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Registation)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Attendant)
        </td>
        <td>
            @if (item.dateRegister.ToShortDateString().CompareTo(DateTime.Now.ToShortDateString()) <= 0 && item.dateEndRegister.ToShortDateString().CompareTo(DateTime.Now.ToShortDateString()) >= 0)
            {
                <p style="color:white; text-align:center;display:block;background-color:darkgreen;border-radius:13px 13px;font-size:12px">Đang mở đăng ký</p>
            }
            else
            {
                if (item.dateEndRegister.ToShortDateString().CompareTo(DateTime.Now.ToShortDateString()) < 0)
                {
                    <p style="color:white; text-align:center;display:block;background-color:darkgray;border-radius:13px 13px;font-size:12px">Đã đóng đăng ký</p>
                    
                }
                else
                {
                    <p style="color:white; text-align:center;display:block;background-color:cornflowerblue;border-radius:13px 13px;font-size:12px">Chưa tới ngày mở</p>
                }
            }
            
            
        </td>
        <td class="Action">
            <a class="Sua" href=" @Url.Action("Edit", "Admin", new { id = item.idEvent } )" style="display:inline-block;border-radius:5px 5px; background-color:lawngreen;color:white;width:20px"><span class="glyphicon glyphicon-pencil"></span></a> |
            <a class="Chitiet" href=" @Url.Action("Details", "Admin", new { id = item.idEvent })" style="display:inline-block;border-radius:5px 5px;background-color:orange;color:white;width:20px"><span class="glyphicon glyphicon-list-alt"></span></a> |
            <a class="Xoa" href="@Url.Action("Delete","Admin" ,new { id = item.idEvent })" style="display:inline-block;border-radius:5px 5px;background-color:red;color:white;width:20px"><span class="glyphicon glyphicon-remove"></span></a>
        </td>
    </tr>
}
        </tbody>
       </table>
   

